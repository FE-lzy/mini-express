(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8d14c0a"],{"1ff1":function(e,t,l){"use strict";var a=l("f205"),o=l.n(a);o.a},3216:function(e,t,l){"use strict";var a=l("48f8"),o=l.n(a);o.a},"3b5a":function(e,t,l){},"40f3":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"box"},[l("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[l("el-form-item",{attrs:{label:"发票代码"}},[l("el-input",{attrs:{placeholder:"请输入发票代码"},model:{value:e.form.invoiceDataCode,callback:function(t){e.$set(e.form,"invoiceDataCode",t)},expression:"form.invoiceDataCode"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"发票号码"}},[l("el-input",{attrs:{placeholder:"请输入发票号码"},model:{value:e.form.invoiceNumber,callback:function(t){e.$set(e.form,"invoiceNumber",t)},expression:"form.invoiceNumber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"价税最低值"}},[l("el-input",{attrs:{placeholder:"请输入最低值"},model:{value:e.form.minPrice,callback:function(t){e.$set(e.form,"minPrice",t)},expression:"form.minPrice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"价税最高值"}},[l("el-input",{attrs:{placeholder:"请输入最高值"},model:{value:e.form.maxPrice,callback:function(t){e.$set(e.form,"maxPrice",t)},expression:"form.maxPrice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"发票类型"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.invoiceTypeCode,callback:function(t){e.$set(e.form,"invoiceTypeCode",t)},expression:"form.invoiceTypeCode"}},e._l(e.billType,(function(e){return l("el-option",{key:e.id,attrs:{label:e.type_name,value:e.type_id}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"开票日期"}},[l("el-date-picker",{attrs:{"value-format":"yyyy/MM/dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.form.billingTime,callback:function(t){e.$set(e.form,"billingTime",t)},expression:"form.billingTime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"录入日期"}},[l("el-date-picker",{attrs:{"value-format":"yyyy/MM/dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.form.entryDate,callback:function(t){e.$set(e.form,"entryDate",t)},expression:"form.entryDate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"销售方名称"}},[l("el-input",{attrs:{placeholder:"请输入销售方名称"},model:{value:e.form.salesName,callback:function(t){e.$set(e.form,"salesName",t)},expression:"form.salesName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"归属部门"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.fp_gsbm,callback:function(t){e.$set(e.form,"fp_gsbm",t)},expression:"form.fp_gsbm"}},e._l(e.bmOptions,(function(e){return l("el-option",{key:e.id,attrs:{label:e.bmmc,value:e.id}})})),1)],1),e._v(" "),l("el-form-item",[l("el-select",{staticStyle:{"margin-left":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.colOptions,callback:function(t){e.colOptions=t},expression:"colOptions"}},e._l(e.colSelect,(function(e){return l("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.getData}},[e._v("查询")]),e._v(" "),l("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),e._v(" "),l("el-button",{staticStyle:{margin:"0 0 20px 20px"},attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-document"},on:{click:e.handleDownload}},[e._v("导出Excel")])],1),e._v(" "),e.showBtn?l("el-form-item",[l("el-button",{on:{click:e.deleteBills}},[e._v("批量删除")])],1):e._e()],1),e._v(" "),l("el-table",{ref:"tableDataRef",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"","default-sort":{prop:"entryDate",order:"descending"}},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{prop:"#",type:"index",label:"序号"}}),e._v(" "),e.colData[0].istrue?l("el-table-column",{attrs:{prop:"invoiceDataCode",label:"发票序号"}}):e._e(),e._v(" "),e.colData[1].istrue?l("el-table-column",{attrs:{prop:"invoiceTypeCode",label:"发票类型",formatter:e.formatBillType}}):e._e(),e._v(" "),e.colData[2].istrue?l("el-table-column",{attrs:{prop:"salesName",label:"销售方名称"}}):e._e(),e._v(" "),e.colData[3].istrue?l("el-table-column",{attrs:{prop:"totalTaxSum",label:"价税合计"}}):e._e(),e._v(" "),e.colData[4].istrue?l("el-table-column",{attrs:{prop:"entryDate",sortable:"",label:"录入时间",formatter:e.formatEntryTime}}):e._e(),e._v(" "),e.colData[5].istrue?l("el-table-column",{attrs:{prop:"zymc",label:"归属人"}}):e._e(),e._v(" "),e.colData[6].istrue?l("el-table-column",{attrs:{prop:"bmmc",label:"归属部门"}}):e._e(),e._v(" "),e.colData[7].istrue?l("el-table-column",{attrs:{prop:"invoiceTypeName",label:"发票名称"}}):e._e(),e._v(" "),e.colData[8].istrue?l("el-table-column",{attrs:{prop:"billingTime",label:"开票日期"}}):e._e(),e._v(" "),e.colData[9].istrue?l("el-table-column",{attrs:{prop:"checkDate",label:"查询日期"}}):e._e(),e._v(" "),e.colData[10].istrue?l("el-table-column",{attrs:{prop:"checkCode",label:"校验码"}}):e._e(),e._v(" "),e.colData[11].istrue?l("el-table-column",{attrs:{prop:"taxDiskCode",label:"机器码"}}):e._e(),e._v(" "),e.colData[12].istrue?l("el-table-column",{attrs:{prop:"purchaserName",label:"购方名称"}}):e._e(),e._v(" "),e.colData[13].istrue?l("el-table-column",{attrs:{prop:"taxpayerNumber",label:"购方纳税人识别号"}}):e._e(),e._v(" "),e.colData[14].istrue?l("el-table-column",{attrs:{prop:"taxpayerBankAccount",label:"购方银行账号"}}):e._e(),e._v(" "),e.colData[15].istrue?l("el-table-column",{attrs:{prop:"taxpayerAddressOrId",label:"购方地址，电话"}}):e._e(),e._v(" "),e.colData[16].istrue?l("el-table-column",{attrs:{prop:"totalTaxNum",label:"税额"}}):e._e(),e._v(" "),e.colData[17].istrue?l("el-table-column",{attrs:{prop:"totalAmount",label:"不含税价（金额）"}}):e._e(),e._v(" "),e.colData[18].istrue?l("el-table-column",{attrs:{prop:"invoiceRemarks",label:"备注"}}):e._e(),e._v(" "),e.colData[19].istrue?l("el-table-column",{attrs:{prop:"isBillMark",label:"是否为清单票",formatter:e.isBillMark}}):e._e(),e._v(" "),e.colData[20].istrue?l("el-table-column",{attrs:{prop:"voidMark",label:"作废标志",formatter:e.voidMark}}):e._e(),e._v(" "),e.colData[21].istrue?l("el-table-column",{attrs:{prop:"tollSignName",label:"收费标志名称"}}):e._e(),e._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.Billdetail(t.row)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),l("el-dialog",{attrs:{title:"详情",visible:e.commonVisible,width:"55%"},on:{"update:visible":function(t){e.commonVisible=t}}},[l("common",{attrs:{detail:e.detailData}})],1),e._v(" "),l("el-dialog",{attrs:{title:"详情",visible:e.passVisible,width:"55%"},on:{"update:visible":function(t){e.passVisible=t}}},[l("pass",{attrs:{detail:e.detailData}})],1),e._v(" "),l("el-dialog",{attrs:{title:"详情",visible:e.volumeVisible,width:"55%"},on:{"update:visible":function(t){e.volumeVisible=t}}},[l("volume",{attrs:{detail:e.detailData}})],1)],1)},o=[],r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-row",{staticClass:"goodsDetail",staticStyle:{"margin-top":"-15px"},attrs:{type:"flex"}},[l("el-col",{attrs:{span:5}},[l("el-row",[l("el-col",[e._v("货物或应税劳务、服务名称")])],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col",[e._v("规格型号")])],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-row",[l("el-col",[e._v("单位")])],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-row",[l("el-col",[e._v("数量")])],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col",[e._v("单价")])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",[e._v("金额")])],1)],1),e._v(" "),l("el-col",{attrs:{span:1}},[l("el-row",[l("el-col",[e._v("税率")])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",[e._v("税额")])],1)],1)],1),e._v(" "),e._l(e.detail.invoiceDetailData,(function(t){return l("el-row",{staticClass:"goodsDetail",attrs:{type:"flex"}},[l("el-col",{attrs:{span:5}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.goodserviceName))])],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.model))])],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.unit))])],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(parseFloat(t.number).toFixed(2)))])],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(parseFloat(t.price).toFixed(2)))])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.sum))])],1)],1),e._v(" "),l("el-col",{attrs:{span:1}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.taxRate))])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.tax))])],1)],1)],1)})),e._v(" "),l("el-row",{staticClass:"goodsDetail",attrs:{type:"flex"}},[l("el-col",{attrs:{span:5}},[l("el-row",[l("el-col",[e._v("合计")])],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v("￥"+e._s(e.detail.totalAmount))])],1)],1),e._v(" "),l("el-col",{attrs:{span:1}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v("￥"+e._s(e.detail.totalTaxNum))])],1)],1)],1)],2)},s=[],i={name:"common",props:{detail:Object,require:!0}},c=i,n=(l("3216"),l("2877")),p=Object(n["a"])(c,r,s,!1,null,"46e20fd1",null),u=p.exports,m=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-row",{staticClass:"goodsDetail",staticStyle:{"margin-top":"-15px"},attrs:{type:"flex"}},[l("el-col",{attrs:{span:5}},[l("el-row",[l("el-col",[e._v("货物或应税劳务、服务名称")])],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col",[e._v("车牌号")])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",[e._v("通行日期起")])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",[e._v("通行日期止")])],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col",[e._v("金额")])],1)],1),e._v(" "),l("el-col",{attrs:{span:1}},[l("el-row",[l("el-col",[e._v("税率")])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",[e._v("税额")])],1)],1)],1),e._v(" "),e._l(e.detail.detailData,(function(t){return l("el-row",{staticClass:"goodsDetail",attrs:{type:"flex"}},[l("el-col",{attrs:{span:5}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.goodserviceName))])],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.plateNo))])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.passStartDate))])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.passEndDate))])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.sum))])],1)],1),e._v(" "),l("el-col",{attrs:{span:1}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.taxRate))])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.tax))])],1)],1)],1)})),e._v(" "),l("el-row",{staticClass:"goodsDetail",attrs:{type:"flex"}},[l("el-col",{attrs:{span:5}},[l("el-row",[l("el-col",[e._v("合计")])],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v("￥"+e._s(e.detail.totalAmount))])],1)],1),e._v(" "),l("el-col",{attrs:{span:1}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v("￥"+e._s(e.detail.totalTaxNum))])],1)],1)],1)],2)},v=[],_={name:"common",props:{detail:Object,require:!0}},d=_,f=(l("7f81"),Object(n["a"])(d,m,v,!1,null,"aa022582",null)),b=f.exports,h=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-row",{staticClass:"goodsDetail",staticStyle:{"margin-top":"-15px"},attrs:{type:"flex"}},[l("el-col",{attrs:{span:7}},[l("el-row",[l("el-col",[e._v("货物或应税劳务、服务名称")])],1)],1),e._v(" "),l("el-col",{attrs:{span:5}},[l("el-row",[l("el-col",[e._v("单价")])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",[e._v("数量")])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",[e._v("金额")])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",[e._v("税额")])],1)],1)],1),e._v(" "),e._l(e.detail.invoiceDetailData,(function(t){return l("el-row",{staticClass:"goodsDetail",attrs:{type:"flex"}},[l("el-col",{attrs:{span:7}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.goodserviceName))])],1)],1),e._v(" "),l("el-col",{attrs:{span:5}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v("￥"+e._s(e._f("numFilter")(t.price)))])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(e._f("numFilter")(t.number)))])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.sum))])],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v(e._s(t.tax))])],1)],1)],1)})),e._v(" "),l("el-row",{staticClass:"goodsDetail",attrs:{type:"flex"}},[l("el-col",{attrs:{span:5}},[l("el-row",[l("el-col",[e._v("合计")])],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:3}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:1}},[l("el-row",[l("el-col")],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-row",[l("el-col",{staticClass:"purple"},[e._v("￥"+e._s(e.detail.totalTaxSum))])],1)],1)],1)],2)},D=[],w={name:"common",props:{detail:Object,require:!0},filters:{numFilter:function(e){var t="";return t=e?parseFloat(e).toFixed(2):"--",t}}},g=w,y=(l("1ff1"),Object(n["a"])(g,h,D,!1,null,"75bc21aa",null)),x=y.exports,k=l("2934"),C={dwbm:localStorage.getItem("dwbm")};function T(e){function t(e){return e<10?"0"+e:e}var l=new Date(e),a=l.getFullYear()+"-"+t(l.getMonth()+1)+"-"+t(l.getDate());return a}var N={components:{common:u,pass:b,volume:x},data:function(){return{detailData:[],multipleSelection:[],showBtn:!1,value2:"",commonVisible:!1,passVisible:!1,volumeVisible:!1,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,l=new Date;l.setTime(l.getTime()-6048e5),e.$emit("pick",[l,t])}}]},bmOptions:[],billType:[],form:{user:"",region:"",billingTime:"",entryDate:"",fp_gsbm:"",invoiceTypeCode:"",maxPrice:"",minPrice:"",invoiceDataCode:"",invoiceNumber:"",salesName:""},tableData:[],formatBillType:function(e,t,l){return"01"==l?"增值税专票":"04"==l?"增值税普通发票":"10"==l?"电子发票":"11"==l?"卷式普通发票":"14"==l?"电子普通[通行费]发票":l},formatEntryTime:function(e,t,l){return T(l)},isBillMark:function(e,t,l){return"Y"==l?"是":"否"},voidMark:function(e,t,l){return"0"==l?"正常":"作废"},colData:[{title:"发票序号",istrue:!0,prop:"invoiceDataCode"},{title:"发票类型",istrue:!0,prop:"invoiceTypeCode"},{title:"销售方名称",istrue:!0,prop:"salesName"},{title:"价税合计",istrue:!0,prop:"totalTaxSum"},{title:"录入时间",istrue:!0,prop:"entryDate"},{title:"归属人",istrue:!0,prop:"zymc"},{title:"归属部门",istrue:!0,prop:"bmmc"},{title:"发票名称",istrue:!1,prop:"invoiceTypeName"},{title:"开票日期",istrue:!1,prop:"billingTime"},{title:"查询日期",istrue:!1,prop:"checkDate"},{title:"校验码",istrue:!1,prop:"checkCode"},{title:"机器码",istrue:!1,prop:"taxDiskCode"},{title:"购方名称",istrue:!1,prop:"purchaserName"},{title:"购方纳税人识别号",istrue:!1,prop:"taxpayerNumber"},{title:"购方银行账号",istrue:!1,prop:"taxpayerBankAccount"},{title:"购方地址，电话",istrue:!1,prop:"taxpayerAddressOrId"},{title:"税额",istrue:!1,prop:"totalTaxNum"},{title:"不含税价（金额）",istrue:!1,prop:"totalAmount"},{title:"备注",istrue:!1,prop:"invoiceRemarks"},{title:"是否为清单票",istrue:!1,prop:"isBillMark"},{title:"作废标志",istrue:!1,prop:"voidMark"},{title:"收费标志名称",istrue:!1,prop:"tollSignName"}],colOptions:[],colSelect:[],selectArr:[],colProps:[],downloadLoading:!1,filename:"发票列表",autoWidth:!0,bookType:"xlsx"}},created:function(){for(var e=this,t=0;t<e.colData.length;t++)e.colSelect.push(e.colData[t].title),t>6||(console.log(e.colData[t].prop),e.colOptions.push(e.colData[t].title),e.colProps.push(e.colData[t].prop),e.selectArr.push(e.colData[t].title));console.log(e.selectArr),console.log("初始化",e.colProps)},watch:{colOptions:function(e){var t=this,l=this.colSelect.filter((function(t){return e.indexOf(t)<0}));this.selectArr=this.colSelect.filter((function(t){return e.indexOf(t)>-1})),this.colData.filter((function(e){-1!=l.indexOf(e.title)?(e.istrue=!1,t.$nextTick((function(){t.$refs.tableDataRef.doLayout()}))):(e.istrue=!0,t.$nextTick((function(){t.$refs.tableDataRef.doLayout()})))})),this.colProps=[],this.colData.filter((function(e){-1!=t.selectArr.indexOf(e.title)&&t.colProps.push(e.prop)}))}},mounted:function(){this.getData(),this.getAllBm(),this.getBillType()},methods:{deleteBills:function(){for(var e=this,t=this.multipleSelection,l=[],a=0;a<t.length;a++)l.push(t[a].id);this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(k["a"])("/bill/deleteBills",{ids:l},"POST").then((function(t){0==t.code?(e.$message.success("删除成功"),e.getData()):e.$message.error(t.message)})).catch((function(t){e.$message.error(t)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e,e.length>0?this.showBtn=!0:this.showBtn=!1,console.log(e)},Billdetail:function(e){this.detailData=JSON.parse(e.fp_detail);var t=this.detailData.invoiceTypeCode;"01"==t||"04"==t||"10"==t?this.commonVisible=!0:"11"==t?this.volumeVisible=!0:"14"==t&&(this.passVisible=!0),console.log("qwe",this.detailData)},getAllBm:function(){var e=this;Object(k["a"])("/manager/queryAllBm",C,"POST").then((function(t){0==t.code&&(e.bmOptions=t.data.data)}))},getBillType:function(){var e=this;Object(k["a"])("/bill/getBillType",C,"POST").then((function(t){0==t.code&&(e.billType=t.data)}))},getData:function(){var e=this,t=Object.assign(this.form,C);console.log("请求参数：",t),Object(k["a"])("/bill/getBillList",t,"POST").then((function(t){if(0==t.code){console.log(t),e.tableData=t.data;for(var l=0;l<t.data.length;l++){var a=JSON.parse(t.data[l].fp_detail);e.tableData[l].invoiceTypeName=a.invoiceTypeName,e.tableData[l].invoiceTypeCode=a.invoiceTypeCode,e.tableData[l].billingTime=a.billingTime,e.tableData[l].checkDate=a.checkDate,e.tableData[l].checkCode=a.checkCode,e.tableData[l].taxDiskCode=a.taxDiskCode,e.tableData[l].purchaserName=a.purchaserName,e.tableData[l].taxpayerNumber=a.taxpayerNumber,e.tableData[l].taxpayerBankAccount=a.taxpayerBankAccount,e.tableData[l].taxpayerAddressOrId=a.taxpayerAddressOrId,e.tableData[l].totalAmount=a.totalAmount,e.tableData[l].totalTaxSum=a.totalTaxSum,e.tableData[l].totalTaxNum=a.totalTaxNum,e.tableData[l].invoiceRemarks=a.invoiceRemarks,e.tableData[l].isBillMark=a.isBillMark,e.tableData[l].voidMark=a.voidMark,e.tableData[l].tollSignName=a.tollSignName}}console.log(e.tableData)}))},handleClick:function(e,t){console.log(e,t)},onSubmit:function(){console.log("submit!")},resetForm:function(){this.form={},this.getData()},handleDownload:function(){var e=this;this.downloadLoading=!0;var t=this;Promise.all([l.e("chunk-69c64115"),l.e("chunk-58293907")]).then(l.bind(null,"4bf8d")).then((function(l){var a=t.selectArr,o=t.colProps,r=e.tableData,s=e.formatJson(o,r);console.log(s),l.export_json_to_excel({header:a,data:s,filename:e.filename,autoWidth:e.autoWidth,bookType:e.bookType}),e.downloadLoading=!1}))},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return"timestamp"===e?parseTime(t[e]):t[e]}))}))}}},O=N,S=(l("9b1a"),Object(n["a"])(O,a,o,!1,null,"6d3bf1f4",null));t["default"]=S.exports},"48f8":function(e,t,l){},"7f81":function(e,t,l){"use strict";var a=l("3b5a"),o=l.n(a);o.a},"9b1a":function(e,t,l){"use strict";var a=l("be53"),o=l.n(a);o.a},be53:function(e,t,l){},f205:function(e,t,l){}}]);