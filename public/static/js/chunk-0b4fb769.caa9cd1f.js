(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b4fb769"],{"09aa":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"content"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"旧密码",prop:"oldpwd"}},[t("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.oldpwd,callback:function(r){e.$set(e.ruleForm,"oldpwd",r)},expression:"ruleForm.oldpwd"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"新密码",prop:"newpwd"}},[t("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.newpwd,callback:function(r){e.$set(e.ruleForm,"newpwd",r)},expression:"ruleForm.newpwd"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"新密码",prop:"renewpwd"}},[t("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.renewpwd,callback:function(r){e.$set(e.ruleForm,"renewpwd",r)},expression:"ruleForm.renewpwd"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("修改")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("取消")])],1)],1)],1)},l=[],s=t("2934"),n={name:"resetPwd",data:function(){return{ruleForm:{oldpwd:"",newpwd:"",renewpwd:""},rules:{oldpwd:[{required:!0,message:"请输入",trigger:"blur"}],newpwd:[{required:!0,message:"请输入",trigger:"blur"}],renewpwd:[{required:!0,message:"请输入",trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;if(r.ruleForm.newpwd==r.ruleForm.renewpwd){var t=localStorage.getItem("userId"),o={password:r.ruleForm.newpwd,id:t,oldpwd:r.ruleForm.oldpwd};Object(s["a"])("/user/resetPwd",o,"POST").then((function(e){0==e.code?(r.$message.success("修改成功,请重新登录"),r.$store.dispatch("user/logout"),r.$router.push("/login")):r.$message.error("修改失败")}))}else r.$message.error("两次密码不一致")}))},resetForm:function(e){this.$refs[e].resetFields()}}},u=n,d=(t("7e2f"),t("2877")),a=Object(d["a"])(u,o,l,!1,null,"08115b72",null);r["default"]=a.exports},"7e2f":function(e,r,t){"use strict";var o=t("8d43"),l=t.n(o);l.a},"8d43":function(e,r,t){}}]);